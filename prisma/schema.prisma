// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Contrato {
  id                     Int                @id @default(autoincrement())
  dataInicio             String
  dataFim                String
  natureza               String?            @default("")
  pec                    String             @default("")
  descricaoPec           String             @default("")
  grupoCliente           String             @default("")
  empresa                String             @default("") @db.VarChar(1200)
  negocio                String             @default("")
  docSolid               String             @default("") @db.VarChar(1200)
  retencaoContrato       String             @default("")
  faturamento            String             @default("")
  seguros                String             @default("")
  tipoFaturamento        String             @default("")
  reajuste1              String             @default("")
  mesReajuste1           String             @default("")
  reajuste2              String             @default("")
  mesReajuste2           String             @default("")
  reajuste3              String             @default("")
  mesReajuste3           String             @default("")
  tipoAss                String             @default("")
  status                 String             @default("")
  statusPec              Int?           
  resumo                 String             @default("")
  lgpd                   Boolean            @default(false)
  limiteResponsabilidade Boolean            @default(false)
  valor                  Decimal?           @db.Decimal(15, 2)
  createdAt              DateTime           @default(now())
  updatedAt              DateTime           @updatedAt
  updatedJuridico        DateTime?           
  valorComparar          Decimal?           @db.Decimal(15, 2)
  reajusteComparar1      String             @default("")
  mesReajusteComparar1   String             @default("")
  reajusteComparar2      String             @default("")
  mesReajusteComparar2   String             @default("")
  reajusteComparar3      String             @default("")
  mesReajusteComparar3   String             @default("")
  dataInicioComparar     String             @default("")
  dataFimComparar        String             @default("")
  deleted                Boolean            @default(false)
  fileData               ContractFileData[]
  crContrato             CrContrato[]

  @@map("CONTRATO")
}

model ContractFileData {
  id           Int       @id @default(autoincrement())
  originalName String
  mediaName    String
  contentType  String
  sizeFile     Int
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  contrato     Contrato? @relation(fields: [contratoId], references: [id])
  contratoId   Int

  @@map("DADOS_ARQUIVO")
}


model CrContrato {
  id             Int       @id @default(autoincrement())
  pecCr          String?
  descricaoPecCr String?
  cr             String?
  descricaoCr    String?
  regionalCr     String?
  diretorCr      String?
  diretorExecCr  String?
  gerenteRegCr   String?
  gerenteCr      String?
  supervisorCr   String?
  valorCr        Decimal?  @db.Decimal(15, 2)
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt
  deleted        Boolean   @default(false)
  numContrato    Contrato? @relation(fields: [numContratoId], references: [id])
  numContratoId  Int
  
  @@map("CR_CONTRATO")
}

model PecContrato {
  id               Int       @id @default(autoincrement())
  pecCr            String?
  descricaoPec     String?
  grupoClienteId   String?
  grupoCliente     String?
  dataInicio       String?
  dataFim          String?
  negocioId        String?
  negocio          String?
  cr               String?
  descricaoCr      String?
  regionalCr       String?
  diretorCr        String?
  diretorExecCr    String?
  gerenteRegCr     String?
  gerenteCr        String?
  supervisorCr     String?
  empresaId        String?
  mesReajuste1     String?
  indiceReajuste1  String?
  mesReajuste2     String?
  indiceReajuste2  String?
  mesReajuste3     String?
  indiceReajuste3  String?
  empresa          String?   @db.VarChar(1200)
  status           Int? 
  valorCr          Decimal?  @db.Decimal(15, 2)  
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @updatedAt

  @@map("PEC_CONTRATO")
}

model logJob {
  id         Int       @id @default(autoincrement())
  infoLog    String    @db.LongText
  dataInicio DateTime?  
  dataFim    DateTime?

  @@map("LOG_JOB")
}

model Seguros {
  id   Int     @id @default(autoincrement())
  name String?

  @@map("SEGUROS")
}

model DocSolidaria {
  id   Int     @id @default(autoincrement())
  name String?

  @@map("DOC_SOLIDARIA")
}

model RetencContratual {
  id   Int     @id @default(autoincrement())
  name String?

  @@map("RETENC_CONTRATUAL")
}

model TipoFaturamento {
  id   Int     @id @default(autoincrement())
  name String?

  @@map("TIPO_FATURAMENTO")
}

model TipoAss {
  id   Int     @id @default(autoincrement())
  name String?

  @@map("TIPO_ASS")
}

model Reajuste {
  id   Int     @id @default(autoincrement())
  name String?

  @@map("REAJUSTE")
}
