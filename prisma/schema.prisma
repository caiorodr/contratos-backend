// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Contrato {
  id                     Int                @id @default(autoincrement())
  dataInicio             String
  dataFim                String
  documento              String?            @unique @default(uuid())
  natureza               String?            @default("")
  pec                    String             @default("")
  grupoCliente           String             @default("")
  empresa                String             @default("") @db.VarChar(1200)
  negocio                String             @default("")
  docSolid               String?            @default("") @db.VarChar(1200)
  retencaoContrato       String?            @default("")
  faturamento            String?            @default("")
  seguros                String?            @default("")
  reajuste               String             @default("")
  tipoFaturamento        String?            @default("")
  mesReajuste            String             @default("")
  tipoAss                String?            @default("")
  status                 String?            @default("")
  resumo                 String?            @default("")
  lgpd                   Boolean?           @default(false)
  limiteResponsabilidade Boolean?           @default(false)
  valor                  Decimal            @db.Decimal(11, 2)
  createdAt              DateTime           @default(now())
  updatedAt              DateTime           @updatedAt
  updatedJuridico        DateTime?           
  valorComparar          Decimal?           @db.Decimal(11, 2)
  reajusteComparar       String?            @default("")
  dataInicioComparar     String?            @default("")
  dataFimComparar        String?            @default("")
  D_E_L_E_T_             String?            @default("")
  fileData               ContractFileData[]
  crContrato             CrContrato[]

  @@map("CONTRATO")
}

model ContractFileData {
  id           Int       @id @default(autoincrement())
  originalName String
  mediaName    String
  contentType  String
  sizeFile     Int
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  contrato     Contrato? @relation(fields: [contratoId], references: [id])
  contratoId   Int

  @@map("DADOS_ARQUIVO")
}

model CentroCusto {
  id             Int      @id @default(autoincrement())
  cr             String   @unique
  descricaoCr    String
  pecCr          String
  descricaoPecCr String
  regionalCr     String
  supervisorCr   String
  gerenteCr      String
  diretorCr      String
  diretorExecCr  String
  gerenteRegCr   String
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@map("CENTRO_CUSTO")
}

model CrContrato {
  id             Int       @id @default(autoincrement())
  pecCr          String?
  descricaoPecCr String?
  cr             String?
  descricaoCr    String?
  regionalCr     String?
  diretorCr      String?
  diretorExecCr  String?
  gerenteRegCr   String?
  gerenteCr      String?
  supervisorCr   String?
  valorCr        Decimal?  @db.Decimal(11, 2)
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt
  numContrato    Contrato? @relation(fields: [numContratoId], references: [documento])
  numContratoId  String

  @@map("CR_CONTRATO")
}

model PecContrato {
  id                Int       @id @default(autoincrement())
  pec               String?
  descricaoPec      String?
  grupoClienteId    String?
  grupoCliente      String?
  dataInicio        String?
  dataFim           String?
  negocioId         String?
  negocio           String?
  crReduzido        String?
  descricaoCr       String?
  regional          String?
  diretorRegional   String?
  diretorExecutivo  String?
  gerenteExecutivo  String?
  gerenteRegional   String?
  supervisor        String?
  empresaId         String?
  mesReajuste       String?
  empresa           String?   @db.VarChar(1200)
  indiceReajuste    String?
  createdAt         DateTime? @default(now())
  updatedAt         DateTime? @updatedAt
  D_E_L_E_T_        String?   @default("")

  @@map("PEC_CONTRATO")
}

model PecApi {
  id                Int       @id @default(autoincrement())
  pec               String?
  descricaoPec      String?
  grupoClienteId    String?
  grupoCliente      String?
  dataInicio        String?
  dataFim           String?
  negocioId         String?
  negocio           String?
  crReduzido        String?
  descricaoCr       String?
  regional          String?
  diretorRegional   String?
  diretorExecutivo  String?
  gerenteExecutivo String?
  gerenteRegional   String?
  supervisor        String?
  empresaId         String?
  mesReajuste       String?
  empresa           String?   @db.VarChar(1200)
  indiceReajuste    String?
  createdAt         DateTime? @default(now())
  updatedAt         DateTime? @updatedAt
  D_E_L_E_T_        String?   @default("")

  @@map("PEC_API")
}

model logJob {
  id         Int       @id @default(autoincrement())
  infoLog    String    @db.LongText
  dataInicio DateTime? @default(now())
  dataFim    DateTime? @default(now())

  @@map("LOG_JOB")
}
